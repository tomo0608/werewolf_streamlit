# 人狼ゲーム

これはPythonで実装されたコマンドラインベースの人狼ゲームです。

## 概要

プレイヤーは村人陣営と人狼陣営（および第三陣営）に分かれ、それぞれの勝利条件を目指します。
ゲームは、プレイヤー数、プレイヤー名、各役職の人数を設定した後、夜と昼のフェーズを繰り返して進行します。

## 実行方法

プロジェクトのルートディレクトリで以下のコマンドを実行してゲームを開始します。

```bash
python3 main.py
```

## 設定

`config/settings.py` ファイルで、ゲームのデフォルト設定を行うことができます。

- `DEFAULT_PLAYER_COUNT`: デフォルトのプレイヤー人数
- `DEFAULT_PLAYER_NAMES`: デフォルトのプレイヤー名のリスト（`DEFAULT_PLAYER_COUNT` と要素数が一致する場合に適用）
- `DEFAULT_ROLE_COUNTS`: デフォルトの役職構成（合計人数が `DEFAULT_PLAYER_COUNT` と一致する場合に適用）

これらの設定が存在しない、または条件を満たさない場合は、ゲーム開始時にコマンドラインから入力を求められます。

## テスト

`tests` ディレクトリにユニットテストが含まれています。
プロジェクトのルートディレクトリで以下のコマンドを実行してテストを実行できます。

```bash
python3 -m unittest discover tests
```

現在は `tests/test_main.py` があり、`main.py` の初期化処理をテストしています。

## ゲームの流れ

1.  **初期設定**: プレイヤー数、プレイヤー名、役職の人数を設定します。（`config/settings.py` のデフォルト値を使用するか、コマンドラインで入力します）
2.  **役職割り当て**: 各プレイヤーにランダムに役職が割り当てられます。
3.  **ゲーム開始**: Enterキーを押すとゲームが始まります。
4.  **夜フェーズ**: 各役職がそれぞれの能力を行使します（人狼の襲撃、占い師の占いなど）。
5.  **昼フェーズ**: 夜の間の出来事（襲撃結果など）がアナウンスされ、生存者による議論と投票が行われます。投票により最も票を集めたプレイヤーが処刑されます。
6.  **勝利判定**: 各フェーズの終わりに勝利条件が満たされたかチェックされます。
7.  **繰り返し**: 勝利条件が満たされるまで、夜と昼のフェーズを繰り返します。
8.  **ゲーム終了**: 勝利陣営が決定し、全プレイヤーの役職が開示されます。

## 結果の保存

ゲーム終了後、各プレイヤーの役職、勝敗、獲得ポイントなどの結果が `result/` ディレクトリに `{実行日時}.json` というファイル名で保存されます。 